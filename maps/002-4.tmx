<?xml version="1.0" encoding="UTF-8"?>
<map version="1.0" orientation="orthogonal" width="128" height="128" tilewidth="32" tileheight="32">
 <properties>
  <property name="minimap" value="graphics/minimaps/002-4.png"/>
  <property name="music" value="finalman_and_yakslem-cavesong.ogg"/>
  <property name="name" value="Deep Desert Mines"/>
 </properties>
 <tileset firstgid="1" name="cave" tilewidth="32" tileheight="32">
  <image source="../graphics/tiles/cave.png" trans="ff00ff" width="512" height="256"/>
 </tileset>
 <tileset firstgid="129" name="Collision" tilewidth="32" tileheight="32">
  <image source="../graphics/tiles/collision.png" width="64" height="32"/>
 </tileset>
 <tileset firstgid="131" name="cave_x2" tilewidth="32" tileheight="64">
  <image source="../graphics/tiles/cave_x2.png" width="512" height="64"/>
 </tileset>
 <layer name="Ground" width="128" height="128">
  <data encoding="base64" compression="gzip">
   H4sIAAAAAAAAA+2dy47TMBRAsxgeErABhg2wAYaHgA1QHgs2wDDwBYCEYHaAeO4ACcF8Or6i1piMH9epkybxWRyprdIm8rk3dl1fd7Npmk0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAlpwxbPXBy4Gu9NoK2nBpXDBcNC8P9JQuHF4aXhlfOa/c9j32vXWjKxoB7rb5zPmgdG4oV4mSfe4bbhm3DsyXbDu8M7w0fnNeeeR77XrvVlI0B91p957zkOA7FdDu+28e4j0vH7xjZMTw2HArw3fDD8NPwK3Kcj0dN2Rg4E7lWubY7jtNQTLfju32M+1iu3b2nzJEzEX8fM32nYmDVcUPsWoUnjtOnha799AgcDe1/w3BY0T4by89IHWtjQPLSdz9u35NDOZfy3wcbzXAuxuJf+tHLirax/a3mWImB9v3V91wI5dyq/o8Zjis4Ubl/6UfvKtrT9reaY3Poy/9ZwzkF5yv3L/2opv+0/W2Jvhb/4/G/bsbk//kIHA3lX9s/avrNufivafyvbR9Nu+F/Grhtet1wQ8FD/M+GLm0aase2f3fspJlPWNV/6nz4H9Z/rO1i8dDV/+nEsfjXtWlq/q+E/5jLvvxr+7eblftPzf9N1X8XavSfmv8L5dHNRt92+B8Hsfm/3N97c9oO/+Ogz/m/qfuf+9wv/uvOffzXmfOlCX1XnJJ/vHcn1Nbr9A/4h3r9y/r/rQyoCZi+f9/6fy1zX+ddg3/f+n8tc1/nMzf/vrlJd/1/rKaFscP0/ZcG//X499U1ydiBMeC0/XddbyTI2IEx4LT9t+f/3hjeGnYT7xNk7MAYcD3+22O5Uv6/GL4avin8MwZYn/++8l/r/2PivDBv/+T//6T2A7q6xD4PrRXE/7Sw3t29UxZNfI8UIbRWEP/T4ZTj3d07ZbuJ75EihOp/8T8N7L5a1nupem78TwO7r9ZQdfz4Hxc7PbjH/3Rot2vOPgCxmv+x+g/VNeD/Hzn7AMRqvof0316/Kcf+Nvwx7EXeh/+D7aqtk/TVfPXlX76fxGoS2+8JfX5sT0P8p/OqRB1/F/8yRo3VJGr9k/96F7E18ak4SK2nz/WfGqPiv7z/VHuEYkBTS5HjP3Xvx38//mVNTF/7X+f4T937fe+ROa2rSmpf9xNyIWti+toDXevf5n7s3u+730jMLJSw7sd/L2/v3V0yDrT+u+S+IOOFbSWs+wn7cPfuLhkHGv+a3A/5z+n/a+33BVsnFRtf2b27S8ZByr/9PTKV+zn+Q9/9a/Zv+0lNO4fioEsspPzn/CZF/nfH9pM5v/+4ceD+V05OHMT82P3HtNeU8p/ax6hm/6vUVEgcuP+VI3GgHUvHzpvafyzmT9Of4b+Mf989QduWsfNq/3/A5y+nP8N/+Zq6Ev5zkf7CzXuJw67xUxsaDzn7AK7Dv637lrFITt7jfx75b+u+ZSzSZR0T/of1r/k9Z0jwP2xbauZ08T9P/9o5XfzPz3/OnC7+5+Xfuu+jzgD/6/Hv218htHZzrO7x373dfOvrQ2s3x+q+9n1/V/HvW1/fZe0muT9N/9r2jJ0jth5/VVL7/9Se+2Pw3ye2f/rU+GOg9ty35O6Vtqr/Vf9XSJv7n5t//kM1oPg/iNs+pT5zHflvc1943eyPUSQudhv8j8l/7v+Ox2qO7b3F9e/mvoxZ9xr8D4n4Pxpxlvu/427N8ZHAZ9rvJu73k/ZYE//DYccYvjjIqTe2NcfWe9c9Xxn7rzcOXGL3hjY+79rz4H2ckLcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAV/gLL19D/AAABAA==
  </data>
 </layer>
 <layer name="Fringe" width="128" height="128">
  <data encoding="base64" compression="gzip">
   H4sIAAAAAAAAA+3ZwQkAIAgF0OZohPYfsAU8GEFkvXe0m6CQvzUAAAAAAAAAAAAAAAAAAAAAgHeNzXcAAABq8P+7R9Rr/Yc7ZWfTDAMAEOnJGgAAALXJ/wAAAP4g/wOAmtxrAVgl/wOoy74GAFbI/wAAAP4g/wMAAAAAAAAAAAAAAAAAAAAAAAAAAOCECcTTfqQAAAEA
  </data>
 </layer>
 <layer name="Over" width="128" height="128">
  <data encoding="base64" compression="gzip">
   H4sIAAAAAAAAA+3d0Q6CIBQAUF/rB6ovrv46fXBaU0MzQDhn480ttgvsgpdsGgAAAAAAAAAAAAAAAAAAABhc2nYLfO4a+CwAAABQpv58INYZQezfI9ypGWIjPnkLPf8DAChNlwedU3cCiGZ8hlDD3P/cl29pJewV+7jXEPMarB3X4g4AAADHoP4HAAAAAADKolYf9jd+p+a9Wl2m1tS+rvrbOLAel60bB3NjQOzrMHfHIofYb7nXlEO/Wc9685ultRwAAAAAAAAAIHdqR6BO5j61U/vHHt+AUEMNx3dv26Ntz9QdoRj/zDG2/uer3D+u0Hujoaa+1zTOY5buJspT0pnKNdfO25D45Xw3kXdr9h/iBwAAAAAAAAAAAAAApPQCITmgAwAAAQA=
  </data>
 </layer>
 <layer name="Collision" width="128" height="128" opacity="0.4">
  <data encoding="base64" compression="gzip">
   H4sIAAAAAAAAA+3S0Y6DMAxEUb69X77qW7XC4Dh2JoY70tFKXUKCJ5/jOD4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAXs8T73O/z686q3p+nVkZ7dt6x6p7GrnTK8++K+u7R+bjfa6y/4qou3lC//+fpf+9WN88MpvMVPZ/947//1d3Q/91+8ye5Sl2y05nVXdD//RP//RP//Tfrf/oPtGzVnyXupsn9e/dt7J/zzu8Z3mKsxlk3IuZvav6H426myf3H1k3sl9G1N3s1L93pp+fv/S/v6tvngn991CV7v2re6F/+qf/tf2ru+gqOsvRNVeZ6V89v+4iM7WS1T/oH/QP+gf94zn9n60fuSujZ0V+/54OZzodiXp+3UVmaqW6/8i9w/79z9wV9fy6i8zUSlb/I3dBPb/uIjP9fc677ioz/XvOi5r+R9ZdZWad57x4Zv/e8yK3/7N10Ttzt9YT9Qw7i8zTCv33E5mnFfrXywj99zOaaI/0v5/s0H8fFdm1f+s96g7e1v/ZvhV3xvt96g7e1n9k3cga67noeZ9sZCbe7Nj/zHmfLDKP44ivpf+9ROcxM0cro89ba0aj7qBj/9l7Xu17FfX8ulPM1ErW85jrY6c9r6Ke21Osnq2VrP69Uc99F6vn493vLt73W+9Sz30Xd+ne/6rv6mr1vDzvnznP7/9XfE9X0VT3P3uOVd/RXUbov6/MzO4dOQ/91/ZfNcuszL5XPX+1zNB/P5lR7TsT9fzVMkP//WSG/vvJTLfuv1HPXy0z9N9PxtzOfuvQ/Tfq+atlzO3sN7rvIWN2Z7/t3v036tnvIDOje1Tei7v91XPfRWZW7BE9y93/3ywrnvevuA+eb1TPfFcVs1mdu++ynkHNbFbFOv/x7/ezZ1B7p1bGutNXz6DfHYjuoZ7Fm2Ukuo/62zF3J9TnBAAAAAAAAAAAAAAAAAAAAAAA7/YHoIdi7AAAAQA=
  </data>
 </layer>
 <objectgroup name="Objects" width="0" height="0">
  <object name="graphics/particles/flame.particle.xml" type="particle_effect" x="1280" y="1440" width="32" height="32"/>
  <object name="graphics/particles/flame.particle.xml" type="particle_effect" x="1600" y="1440" width="32" height="32"/>
  <object name="graphics/particles/flame.particle.xml" type="particle_effect" x="1920" y="1376" width="32" height="32"/>
  <object name="graphics/particles/flame.particle.xml" type="particle_effect" x="2080" y="1376" width="32" height="32"/>
  <object name="graphics/particles/flame.particle.xml" type="particle_effect" x="1920" y="1600" width="32" height="32"/>
  <object name="graphics/particles/flame.particle.xml" type="particle_effect" x="2080" y="1600" width="32" height="32"/>
  <object name="graphics/particles/flame.particle.xml" type="particle_effect" x="1920" y="1824" width="32" height="32"/>
  <object name="graphics/particles/flame.particle.xml" type="particle_effect" x="2080" y="1824" width="32" height="32"/>
  <object name="graphics/particles/flame.particle.xml" type="particle_effect" x="1920" y="2048" width="32" height="32"/>
  <object name="graphics/particles/flame.particle.xml" type="particle_effect" x="2080" y="2048" width="32" height="32"/>
  <object name="graphics/particles/flame.particle.xml" type="particle_effect" x="1920" y="2272" width="32" height="32"/>
  <object name="graphics/particles/flame.particle.xml" type="particle_effect" x="2080" y="2272" width="32" height="32"/>
  <object name="graphics/particles/flame.particle.xml" type="particle_effect" x="1920" y="2496" width="32" height="32"/>
  <object name="graphics/particles/flame.particle.xml" type="particle_effect" x="2080" y="2496" width="32" height="32"/>
  <object name="graphics/particles/flame.particle.xml" type="particle_effect" x="1920" y="2720" width="32" height="32"/>
  <object name="graphics/particles/flame.particle.xml" type="particle_effect" x="2080" y="2720" width="32" height="32"/>
  <object name="graphics/particles/flame.particle.xml" type="particle_effect" x="1440" y="2176" width="32" height="32"/>
  <object name="graphics/particles/flame.particle.xml" type="particle_effect" x="1440" y="2368" width="32" height="32"/>
  <object name="graphics/particles/flame.particle.xml" type="particle_effect" x="2848" y="1120" width="32" height="32"/>
  <object name="graphics/particles/flame.particle.xml" type="particle_effect" x="3104" y="1120" width="32" height="32"/>
  <object name="graphics/particles/flame.particle.xml" type="particle_effect" x="2848" y="1344" width="32" height="32"/>
  <object name="graphics/particles/flame.particle.xml" type="particle_effect" x="3104" y="1344" width="32" height="32"/>
  <object name="Naem the Miner" type="npc" x="1040" y="3024">
   <properties>
    <property name="npc_id" value="109"/>
    <property name="script">
     function npc_handler(npc, ch)
       do_message(npc, ch, &quot;Do you want me to lift you to the upper level?&quot;)
       local v = do_choice(npc, ch, &quot;Sure&quot;, &quot;Not yet!&quot;)
       if v == 1 then
         tmw.chr_warp(ch, 2, 87 * 32 + 16, 99 * 32 + 16)
       end
     end
    </property>
   </properties>
  </object>
  <object name="Chest" type="npc" x="2976" y="1184">
   <properties>
    <property name="npc_id" value="111"/>
    <property name="script">
     function npc_handler(npc, ch)
       local g = tonumber(get_quest_var(npc, ch, &quot;005_chest&quot;))
       if not g then
         do_message(npc, ch, &quot;Would you try to open it?&quot;)
         local v = do_choice(npc, ch, &quot;Yup&quot;, &quot;Nope&quot;)
         if v == 1 then
           if tmw.chr_inv_change(ch, 537, -3, 536, 1) then
             do_message(npc, ch, &quot;You opened it and found a short sword!&quot;)
             tmw.chr_set_quest(ch, &quot;005_chest&quot;, 1)
           else
             do_message(npc, ch, &quot;It seems that this is not the right key...&quot;)   
           end
         end
       else
         do_message(npc, ch, &quot;You already opened this chest.&quot;)
       end
     end
    </property>
   </properties>
  </object>
  <object name="To First Level" type="warp" x="1088" y="3168" width="32" height="32">
   <properties>
    <property name="dest_map" value="002-3"/>
    <property name="dest_x" value="2176"/>
    <property name="dest_y" value="3168"/>
   </properties>
  </object>
  <object name="Ice Goblin" type="spawn" x="992" y="2752" width="416" height="256">
   <properties>
    <property name="eA_death" value="30000"/>
    <property name="eA_spawn" value="100000"/>
    <property name="max_beings" value="3"/>
    <property name="monster_id" value="56"/>
   </properties>
  </object>
  <object name="Cave Maggot" type="spawn" x="1024" y="2272" width="128" height="384">
   <properties>
    <property name="eA_death" value="30000"/>
    <property name="eA_spawn" value="100000"/>
    <property name="max_beings" value="3"/>
    <property name="monster_id" value="54"/>
   </properties>
  </object>
  <object name="Angry Scorpion" type="spawn" x="1184" y="2112" width="256" height="192">
   <properties>
    <property name="eA_death" value="30000"/>
    <property name="eA_spawn" value="100000"/>
    <property name="max_beings" value="3"/>
    <property name="monster_id" value="55"/>
   </properties>
  </object>
  <object name="Archant" type="spawn" x="992" y="1152" width="608" height="192">
   <properties>
    <property name="eA_death" value="30000"/>
    <property name="eA_spawn" value="100000"/>
    <property name="max_beings" value="3"/>
    <property name="monster_id" value="58"/>
   </properties>
  </object>
  <object name="Ice Goblin" type="spawn" x="1952" y="2176" width="128" height="256">
   <properties>
    <property name="eA_death" value="30000"/>
    <property name="eA_spawn" value="100000"/>
    <property name="max_beings" value="3"/>
    <property name="monster_id" value="56"/>
   </properties>
  </object>
  <object name="Archant" type="spawn" x="1760" y="3040" width="96" height="192">
   <properties>
    <property name="eA_death" value="30000"/>
    <property name="eA_spawn" value="100000"/>
    <property name="max_beings" value="1"/>
    <property name="monster_id" value="58"/>
   </properties>
  </object>
  <object name="Yellow Slime" type="spawn" x="1984" y="3168" width="416" height="96">
   <properties>
    <property name="eA_death" value="30000"/>
    <property name="eA_spawn" value="100000"/>
    <property name="max_beings" value="4"/>
    <property name="monster_id" value="5"/>
   </properties>
  </object>
  <object name="Archant" type="spawn" x="2944" y="2496" width="64" height="192">
   <properties>
    <property name="eA_death" value="30000"/>
    <property name="eA_spawn" value="100000"/>
    <property name="max_beings" value="1"/>
    <property name="monster_id" value="58"/>
   </properties>
  </object>
  <object name="Archant" type="spawn" x="2848" y="2944" width="64" height="192">
   <properties>
    <property name="eA_death" value="30000"/>
    <property name="eA_spawn" value="100000"/>
    <property name="max_beings" value="1"/>
    <property name="monster_id" value="58"/>
   </properties>
  </object>
  <object name="Archant" type="spawn" x="2368" y="2432" width="64" height="192">
   <properties>
    <property name="eA_death" value="30000"/>
    <property name="eA_spawn" value="100000"/>
    <property name="max_beings" value="2"/>
    <property name="monster_id" value="58"/>
   </properties>
  </object>
  <object name="Archant" type="spawn" x="2976" y="2176" width="96" height="224">
   <properties>
    <property name="eA_death" value="30000"/>
    <property name="eA_spawn" value="100000"/>
    <property name="max_beings" value="1"/>
    <property name="monster_id" value="58"/>
   </properties>
  </object>
  <object name="Yellow Slime" type="spawn" x="2784" y="2016" width="288" height="96">
   <properties>
    <property name="eA_death" value="30000"/>
    <property name="eA_spawn" value="100000"/>
    <property name="max_beings" value="1"/>
    <property name="monster_id" value="5"/>
   </properties>
  </object>
  <object name="Archant" type="spawn" x="2368" y="1056" width="64" height="192">
   <properties>
    <property name="eA_death" value="30000"/>
    <property name="eA_spawn" value="100000"/>
    <property name="max_beings" value="1"/>
    <property name="monster_id" value="58"/>
   </properties>
  </object>
  <object name="Archant" type="spawn" x="2688" y="992" width="64" height="192">
   <properties>
    <property name="eA_death" value="30000"/>
    <property name="eA_spawn" value="100000"/>
    <property name="max_beings" value="1"/>
    <property name="monster_id" value="58"/>
   </properties>
  </object>
  <object name="Archant" type="spawn" x="2688" y="1408" width="64" height="192">
   <properties>
    <property name="eA_death" value="30000"/>
    <property name="eA_spawn" value="100000"/>
    <property name="max_beings" value="1"/>
    <property name="monster_id" value="58"/>
   </properties>
  </object>
  <object name="Archant" type="spawn" x="3168" y="1152" width="64" height="192">
   <properties>
    <property name="eA_death" value="30000"/>
    <property name="eA_spawn" value="100000"/>
    <property name="max_beings" value="1"/>
    <property name="monster_id" value="58"/>
   </properties>
  </object>
  <object name="Yellow Slime" type="spawn" x="2848" y="1216" width="288" height="96">
   <properties>
    <property name="eA_death" value="30000"/>
    <property name="eA_spawn" value="100000"/>
    <property name="max_beings" value="2"/>
    <property name="monster_id" value="5"/>
   </properties>
  </object>
 </objectgroup>
</map>
